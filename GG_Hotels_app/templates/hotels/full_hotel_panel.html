{% extends "base.html" %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/hotel-panel.css' %}">
{% endblock %}

{% block content %}

<div class="panel-container">
    <div class="panel-header">
        <h1>Hotel Admin Panel</h1>
    </div>

    <div class="hotel-info">
        <h2>Welcome, {{ user.first_name }}!</h2>
        <p><strong>Hotel Username:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
    </div>

    <div class="section">
        <h3>Room Management</h3>
        <a href="{% url 'add_room' %}" class="add-button">Add New Room</a>
        
        <h4>Your Rooms:</h4>
        {% for room in hotel_rooms %}
            <div class="item-card">
                <div class="item-info">
                    <h4>{{ room.room_type }} Room</h4>
                    <p><strong>Price:</strong> ${{ room.price_per_night }}/night</p>
                    <p><strong>Capacity:</strong> {{ room.capacity }} person(s)</p>
                    <p><strong>Available:</strong> {{ room.quantity }} rooms</p>
                    {% if room.description %}
                        <p><strong>Description:</strong> {{ room.description }}</p>
                    {% endif %}
                </div>
                <div class="item-buttons">
                    <a href="{% url 'edit_room' room.id %}" class="edit-button">Edit</a>
                    <a href="{% url 'delete_room' room.id %}" class="delete-button" onclick="return confirm('Are you sure you want to delete this room?')">Delete</a>
                </div>
            </div>
        {% empty %}
            <div class="empty-message">
                <p>You haven't added any rooms yet. <a href="{% url 'add_room' %}">Add your first room!</a></p>
            </div>
        {% endfor %}
    </div>

    <div class="section">
        <h3>Service Management</h3>
        <a href="{% url 'add_service' %}" class="add-button">Add New Service</a>
        
        <h4>Available Services:</h4>
        {% for service in services %}
            <div class="item-card">
                <div class="item-info">
                    <h4>{{ service.name }}</h4>
                    <p><strong>Price:</strong> ${{ service.price }}</p>
                    <p><strong>Available:</strong> {{ service.available|yesno:"Yes,No" }}</p>
                    {% if service.description %}
                        <p><strong>Description:</strong> {{ service.description }}</p>
                    {% endif %}
                </div>
                <div class="item-buttons">
                    <a href="{% url 'edit_service' service.id %}" class="edit-button">Edit</a>
                    <a href="{% url 'delete_service' service.id %}" class="delete-button" onclick="return confirm('Are you sure you want to delete this service?')">Delete</a>
                </div>
            </div>
        {% empty %}
            <div class="empty-message">
                <p>No services available. <a href="{% url 'add_service' %}">Add your first service!</a></p>
            </div>
        {% endfor %}
    </div>

    <div class="form-links">
        <a href="{% url 'logout' %}">Logout</a>
    </div>
</div>

{% endblock content %}