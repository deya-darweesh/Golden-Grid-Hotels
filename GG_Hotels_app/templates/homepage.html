{% extends "base.html" %}

{% block title %}Homepage - Golden Grid Hotels{% endblock title %} 

{% block head %}

{% endblock head %}

{% block content %}
<section>
    <h2>Available Hotels</h2>
    {% for hotel in hotels %}
        <div>
            <h3>{{ hotel.first_name }} {{ hotel.last_name }}</h3>
            <p>Contact: {{ hotel.email }}</p>
            <p>Username: {{ hotel.username }}</p>
            <a href="{% url 'hotel_rooms_list' hotel.id %}">View Rooms</a>
        </div>
    {% empty %}
        <p>No hotels available</p>
    {% endfor %}
</section>

<section>
    <h2>Featured Rooms</h2>
    {% for room in featured_rooms %}
        <div>
            <h3>{{ room.room_type }} Room - {{ room.hotel_id.first_name }} Hotel</h3>
            <p><strong>Price per Night:</strong> ${{ room.price_per_night }}</p>
            <p><strong>Capacity:</strong> {{ room.capacity }} person(s)</p>
            {% if room.description %}
                <p><strong>Description:</strong> {{ room.description }}</p>
            {% endif %}
            
            {% if user.is_authenticated and not user.is_staff %}
                <a href="{% url 'create_booking' room.id %}" class="btn btn-primary">Book This Room</a>
            {% elif not user.is_authenticated %}
                <a href="{% url 'sign_in' %}" class="btn btn-secondary">Sign In to Book</a>
            {% elif user.is_staff %}
                <span class="text-muted">Hotels cannot make bookings</span>
            {% endif %}
        </div>
        <hr>
    {% empty %}
        <p>No rooms available</p>
    {% endfor %}
</section>
{% endblock content %}

